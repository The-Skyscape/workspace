<!-- AI Conversations List Partial (for search results) -->
{{range .}}
<div class="card bg-base-100 border border-base-300 hover:border-primary/50 transition-all cursor-pointer"
     hx-get="{{host}}/ai/chat/{{.ID}}"
     hx-target="#ai-panel-content"
     hx-swap="innerHTML">
    <div class="card-body p-3">
        <div class="flex justify-between items-start gap-2">
            <div class="flex-1 min-w-0">
                <h4 class="font-medium text-sm truncate">{{.Title}}</h4>
                {{if .LastMessage}}
                <p class="text-xs text-base-content/60 truncate mt-1">
                    {{if eq .LastRole "user"}}You: {{end}}{{.LastMessage}}
                </p>
                {{end}}
                <p class="text-xs text-base-content/40 mt-1">
                    {{.UpdatedAt.Format "Jan 2, 3:04 PM"}}
                </p>
            </div>
            <div class="dropdown dropdown-end" onclick="event.stopPropagation()">
                <label tabindex="0" class="btn btn-ghost btn-xs btn-square">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                    </svg>
                </label>
                <ul tabindex="0" class="dropdown-content menu p-2 shadow-lg bg-base-100 rounded-box w-32 border border-base-300">
                    <li><a hx-delete="{{host}}/ai/conversations/{{.ID}}"
                           hx-confirm="Delete this conversation?"
                           hx-target="#ai-panel-content"
                           hx-swap="innerHTML">Delete</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
{{else}}
<div class="text-center py-8">
    <p class="text-base-content/60 text-sm">No conversations found</p>
</div>
{{end}}