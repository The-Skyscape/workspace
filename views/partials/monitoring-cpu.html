<div class="card-body">
  <h3 class="card-title text-lg">CPU Usage</h3>
  {{with monitoring.GetCurrentStats}}
  <div class="flex flex-col gap-3">
    <div>
      <div class="flex justify-between mb-1">
        <span class="text-sm text-base-content/70">Usage</span>
        <span class="text-sm font-mono">{{monitoring.FormatPercent .CPU.UsagePercent}}</span>
      </div>
      <progress class="progress {{if gt .CPU.UsagePercent 90.0}}progress-error{{else if gt .CPU.UsagePercent 70.0}}progress-warning{{else}}progress-success{{end}}" 
               value="{{.CPU.UsagePercent}}" max="100"></progress>
    </div>
    <div class="grid grid-cols-2 gap-2 text-xs">
      <div>
        <span class="text-base-content/70">User</span>
        <div class="font-mono">{{printf "%.1f%%" .CPU.UserPercent}}</div>
      </div>
      <div>
        <span class="text-base-content/70">System</span>
        <div class="font-mono">{{printf "%.1f%%" .CPU.SystemPercent}}</div>
      </div>
    </div>
    <div class="divider my-2"></div>
    <div class="text-xs">
      <span class="text-base-content/70">Load Avg</span>
      <div class="font-mono">
        {{printf "%.2f" .LoadAverage.Load1}} / {{printf "%.2f" .LoadAverage.Load5}} / {{printf "%.2f" .LoadAverage.Load15}}
      </div>
    </div>
  </div>
  {{end}}
</div>