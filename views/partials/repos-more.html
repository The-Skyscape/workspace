<!-- Additional repository items for infinite scroll -->
{{range .Repos}}
<a href="{{host}}/repos/{{.ID}}" class="card bg-base-100 shadow-sm border border-base-300 hover:shadow-md hover:border-primary/20 transition-all cursor-pointer block hover:no-underline">
  {{template "repo-card" .}}
</a>
{{end}}

<!-- Infinite scroll trigger for next page -->
{{if .HasMore}}
<div id="scroll-trigger-{{.NextOffset}}"
     hx-get="/repos/more?offset={{.NextOffset}}" 
     hx-trigger="revealed"
     hx-swap="afterend"
     hx-indicator="#loading-spinner-{{.NextOffset}}"
     class="w-full py-4">
  <div id="loading-spinner-{{.NextOffset}}" class="htmx-indicator">
    <div class="flex justify-center items-center gap-2 text-base-content/60">
      <span class="loading loading-spinner loading-sm"></span>
      <span class="text-sm">Loading more repositories...</span>
    </div>
  </div>
</div>
{{else}}
<div class="text-center py-4 text-base-content/60 text-sm">
  <!-- End of repositories list -->
</div>
{{end}}